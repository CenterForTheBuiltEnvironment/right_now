{% extends "survey/layout.html" %}
{% block content %}

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success" role="alert">{{ message }}</div>
        {% endfor %}
    {% endif %}

    {% if user_questions %}

    <div class="question-table-container">
      <table class="table table-hover">
          <caption class="text-left">Custom questions</caption>
          <thead>
              <tr>
                  <th>Name</th>
                  <th>Text</th>
                  <th>Type</th>
                  <th>Edit</th>
              </tr>
          </thead>
          <tbody>
              {% for q in user_questions%}
                  <tr>
                      <td>{{ q.name }}</td>
                      <td>{{ q.text }}</td>
                      <td>
                          {% if q.qtype == "A" %} 
                              Acceptability
                          {% elif q.qtype == "C" %}
                              Continuous
                          {% elif q.qtype == "D" %}
                              Discrete
                          {% elif q.qtype == "M" %}
                              Multiple choice
                          {% elif q.qtype == "S" %}
                              Special
                          {% elif q.qtype == "T" %}
                              Text
                          {% else %}
                              None
                          {% endif %} 
                      </td>
                      <td>
                          <a class="edit-survey" href="/survey/questions/edit/{{ q.id }}/">
                              <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                          </a>
                      </td>
                  </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>

    {% endif %}

    <div style="text-align: center; margin-bottom: 20px;">
      <button id="create-survey" type="button" class="btn btn-default">
        Create new question
      </button>
    </div>

    <div class="question-table-container">
      <table class="table table-hover">
          <caption class="text-left">Core questions</caption>
          <thead>
              <tr>
                  <th>Name</th>
                  <th>Text</th>
                  <th>Type</th>
              </tr>
          </thead>
          <tbody>
              {% for q in core_questions %}
                  <tr>
                      <td>{{ q.name }}</td>
                      <td>{{ q.text }}</td>
                      <td>
                          {% if q.qtype == "A" %} 
                              Acceptability
                          {% elif q.qtype == "C" %}
                              Continuous
                          {% elif q.qtype == "D" %}
                              Discrete
                          {% elif q.qtype == "M" %}
                              Multiple choice
                          {% elif q.qtype == "S" %}
                              Special
                          {% elif q.qtype == "T" %}
                              Text
                          {% else %}
                              None
                          {% endif %} 
                      </td>
                  </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>

    <script>
      $('#create-survey').click(function(event){
          window.location.href = '/survey/questions/create/';
      });
    </script>
{% endblock %}
